{% extends "base.html" %}
{% block content %}
<h1>{% if student %}Edit Student{% else %}Add Student{% endif %}</h1>
<form method="POST" action="{% if student %}{{ url_for('student.edit_student', id=student.id) }}{% else %}{{ url_for('student.add_student') }}{% endif %}">
    <div class="form-group">
        <label for="first_name">First Name</label>
        <input type="text" class="form-control" id="first_name" name="first_name" value="{{ student.first_name if student else '' }}" required>
    </div>
    <div class="form-group">
        <label for="last_name">Last Name</label>
        <input type="text" class="form-control" id="last_name" name="last_name" value="{{ student.last_name if student else '' }}" required>
    </div>
    <div class="form-group">
        <label for="dob">Date of Birth</label>
        <input type="date" class="form-control" id="dob" name="dob" value="{{ student.date_of_birth if student else '' }}" required>
    </div>
    <div class="form-group">
        <label for="grade">Grade</label>
        <input type="text" class="form-control" id="grade" name="grade" value="{{ student.grade if student else '' }}" required>
    </div>
    <div class="form-group">
        <label for="parent_id">Parent</label>
        <select class="form-control" id="parent_id" name="parent_id" required>
            <option value="">Select a parent</option>
            {% for parent in parents %}
            <option value="{{ parent.id }}" {% if student and student.parent_id == parent.id %}selected{% endif %}>{{ parent.username }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
</form>
{% endblock %}